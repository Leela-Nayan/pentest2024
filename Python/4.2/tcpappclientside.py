import socket
import base64

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.connect(('127.0.0.1', 5002))

while True:
    msg = input()
    if msg == 'exit':
        break
    encoded_msg = base64.b64encode(msg.encode('utf-8'))
    client.send(encoded_msg)
    reply = client.recv(1024)
    decoded_reply = base64.b64decode(reply).decode('utf-8')
    print(decoded_reply)

client.close()
